"use strict";(self.webpackChunkdog_sitter_react=self.webpackChunkdog_sitter_react||[]).push([[7157],{7157:function(e,t,n){n.r(t),n.d(t,{pwa_camera_modal_instance:function(){return c}});var o=n(4361),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function c(e){try{h(o.next(e))}catch(t){i(t)}}function a(e){try{h(o.throw(e))}catch(t){i(t)}}function h(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}h((o=o.apply(e,t||[])).next())}))},i=function(e,t){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},c=function(){function e(e){var t=this;(0,o.r)(this,e),this.facingMode="user",this.noDevicesText="No camera found",this.noDevicesButtonText="Choose image",this.handlePhoto=function(e){return r(t,void 0,void 0,(function(){return i(this,(function(t){return this.onPhoto.emit(e),[2]}))}))},this.handleNoDeviceError=function(e){return r(t,void 0,void 0,(function(){return i(this,(function(t){return this.noDeviceError.emit(e),[2]}))}))},this.onPhoto=(0,o.c)(this,"onPhoto",7),this.noDeviceError=(0,o.c)(this,"noDeviceError",7)}return e.prototype.handleBackdropClick=function(e){e.target!==this.el&&this.onPhoto.emit(null)},e.prototype.handleComponentClick=function(e){e.stopPropagation()},e.prototype.handleBackdropKeyUp=function(e){"Escape"===e.key&&this.onPhoto.emit(null)},e.prototype.render=function(){var e=this;return(0,o.h)("div",{class:"wrapper",onClick:function(t){return e.handleBackdropClick(t)}},(0,o.h)("div",{class:"content"},(0,o.h)("pwa-camera",{onClick:function(t){return e.handleComponentClick(t)},facingMode:this.facingMode,handlePhoto:this.handlePhoto,handleNoDeviceError:this.handleNoDeviceError,noDevicesButtonText:this.noDevicesButtonText,noDevicesText:this.noDevicesText})))},Object.defineProperty(e.prototype,"el",{get:function(){return(0,o.g)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":host{z-index:1000;position:fixed;top:0;left:0;width:100%;height:100%;contain:strict;--inset-width:600px;--inset-height:600px}.wrapper,:host{display:-ms-flexbox;display:flex}.wrapper{-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:rgba(0,0,0,.15)}.content{-webkit-box-shadow:0 0 5px rgba(0,0,0,.2);box-shadow:0 0 5px rgba(0,0,0,.2);width:var(--inset-width);height:var(--inset-height);max-height:100%}@media only screen and (max-width:600px){.content{width:100%;height:100%}}"},enumerable:!0,configurable:!0}),e}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFpQixFQUM1RCxDQTRCQSxPQTNCQVUsRUFBUWUsVUFBVUMsb0JBQXNCLFNBQVU5QyxHQUMxQ0EsRUFBRStDLFNBQVczQixLQUFLNEIsSUFDbEI1QixLQUFLb0IsUUFBUUMsS0FBSyxLQUUxQixFQUNBWCxFQUFRZSxVQUFVSSxxQkFBdUIsU0FBVWpELEdBQy9DQSxFQUFFa0QsaUJBQ04sRUFDQXBCLEVBQVFlLFVBQVVNLG9CQUFzQixTQUFVbkQsR0FDaEMsV0FBVkEsRUFBRW9ELEtBQ0ZoQyxLQUFLb0IsUUFBUUMsS0FBSyxLQUUxQixFQUNBWCxFQUFRZSxVQUFVUSxPQUFTLFdBQ3ZCLElBQUlyQixFQUFRWixLQUNaLE9BQVFrQyxFQUFBQSxFQUFBQSxHQUFFLE1BQU8sQ0FBRUMsTUFBTyxVQUFXQyxRQUFTLFNBQVV4RCxHQUFLLE9BQU9nQyxFQUFNYyxvQkFBb0I5QyxFQUFJLElBQUtzRCxFQUFBQSxFQUFBQSxHQUFFLE1BQU8sQ0FBRUMsTUFBTyxZQUFhRCxFQUFBQSxFQUFBQSxHQUFFLGFBQWMsQ0FBRUUsUUFBUyxTQUFVeEQsR0FBSyxPQUFPZ0MsRUFBTWlCLHFCQUFxQmpELEVBQUksRUFBR2tDLFdBQVlkLEtBQUtjLFdBQVlHLFlBQWFqQixLQUFLaUIsWUFBYUssb0JBQXFCdEIsS0FBS3NCLG9CQUFxQk4sb0JBQXFCaEIsS0FBS2dCLG9CQUFxQkQsY0FBZWYsS0FBS2UsaUJBQzNZLEVBQ0FzQixPQUFPQyxlQUFlNUIsRUFBUWUsVUFBVyxLQUFNLENBQzNDYyxJQUFLLFdBQWMsT0FBT0MsRUFBQUEsRUFBQUEsR0FBV3hDLEtBQU8sRUFDNUN5QyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJMLE9BQU9DLGVBQWU1QixFQUFTLFFBQVMsQ0FDcEM2QixJQUFLLFdBQWMsTUFBTyxvaUJBQXVpQixFQUNqa0JFLFlBQVksRUFDWkMsY0FBYyxJQUVYaEMsQ0FDWCxDQWxEb0MsRSIsInNvdXJjZXMiOlsiLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9wd2EtZWxlbWVudHMvZGlzdC9lc20tZXM1L3B3YS1jYW1lcmEtbW9kYWwtaW5zdGFuY2UuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgZyBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9jb3JlLWY4NjgwNWFkLmpzJztcbnZhciBQV0FDYW1lcmFNb2RhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBjbGFzc18xKGhvc3RSZWYpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICAgICAgdGhpcy5mYWNpbmdNb2RlID0gJ3VzZXInO1xuICAgICAgICB0aGlzLm5vRGV2aWNlc1RleHQgPSAnTm8gY2FtZXJhIGZvdW5kJztcbiAgICAgICAgdGhpcy5ub0RldmljZXNCdXR0b25UZXh0ID0gJ0Nob29zZSBpbWFnZSc7XG4gICAgICAgIHRoaXMuaGFuZGxlUGhvdG8gPSBmdW5jdGlvbiAocGhvdG8pIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGhvdG8uZW1pdChwaG90byk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyB9O1xuICAgICAgICB0aGlzLmhhbmRsZU5vRGV2aWNlRXJyb3IgPSBmdW5jdGlvbiAocGhvdG8pIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vRGV2aWNlRXJyb3IuZW1pdChwaG90byk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyB9O1xuICAgICAgICB0aGlzLm9uUGhvdG8gPSBjcmVhdGVFdmVudCh0aGlzLCBcIm9uUGhvdG9cIiwgNyk7XG4gICAgICAgIHRoaXMubm9EZXZpY2VFcnJvciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwibm9EZXZpY2VFcnJvclwiLCA3KTtcbiAgICB9XG4gICAgY2xhc3NfMS5wcm90b3R5cGUuaGFuZGxlQmFja2Ryb3BDbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcy5lbCkge1xuICAgICAgICAgICAgdGhpcy5vblBob3RvLmVtaXQobnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNsYXNzXzEucHJvdG90eXBlLmhhbmRsZUNvbXBvbmVudENsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9O1xuICAgIGNsYXNzXzEucHJvdG90eXBlLmhhbmRsZUJhY2tkcm9wS2V5VXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgIHRoaXMub25QaG90by5lbWl0KG51bGwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjbGFzc18xLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcIndyYXBwZXJcIiwgb25DbGljazogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIF90aGlzLmhhbmRsZUJhY2tkcm9wQ2xpY2soZSk7IH0gfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImNvbnRlbnRcIiB9LCBoKFwicHdhLWNhbWVyYVwiLCB7IG9uQ2xpY2s6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5oYW5kbGVDb21wb25lbnRDbGljayhlKTsgfSwgZmFjaW5nTW9kZTogdGhpcy5mYWNpbmdNb2RlLCBoYW5kbGVQaG90bzogdGhpcy5oYW5kbGVQaG90bywgaGFuZGxlTm9EZXZpY2VFcnJvcjogdGhpcy5oYW5kbGVOb0RldmljZUVycm9yLCBub0RldmljZXNCdXR0b25UZXh0OiB0aGlzLm5vRGV2aWNlc0J1dHRvblRleHQsIG5vRGV2aWNlc1RleHQ6IHRoaXMubm9EZXZpY2VzVGV4dCB9KSkpKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbGFzc18xLnByb3RvdHlwZSwgXCJlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsYXNzXzEsIFwic3R5bGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiOmhvc3R7ei1pbmRleDoxMDAwO3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2NvbnRhaW46c3RyaWN0Oy0taW5zZXQtd2lkdGg6NjAwcHg7LS1pbnNldC1oZWlnaHQ6NjAwcHh9LndyYXBwZXIsOmhvc3R7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9LndyYXBwZXJ7LW1zLWZsZXg6MTtmbGV4OjE7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMTUpfS5jb250ZW50ey13ZWJraXQtYm94LXNoYWRvdzowIDAgNXB4IHJnYmEoMCwwLDAsLjIpO2JveC1zaGFkb3c6MCAwIDVweCByZ2JhKDAsMCwwLC4yKTt3aWR0aDp2YXIoLS1pbnNldC13aWR0aCk7aGVpZ2h0OnZhcigtLWluc2V0LWhlaWdodCk7bWF4LWhlaWdodDoxMDAlfVxcQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsuY29udGVudHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfX1cIjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsYXNzXzE7XG59KCkpO1xuZXhwb3J0IHsgUFdBQ2FtZXJhTW9kYWwgYXMgcHdhX2NhbWVyYV9tb2RhbF9pbnN0YW5jZSB9O1xuIl0sIm5hbWVzIjpbIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJsZW5ndGgiLCJwdXNoIiwiUFdBQ2FtZXJhTW9kYWwiLCJjbGFzc18xIiwiaG9zdFJlZiIsIl90aGlzIiwicmVnaXN0ZXJJbnN0YW5jZSIsImZhY2luZ01vZGUiLCJub0RldmljZXNUZXh0Iiwibm9EZXZpY2VzQnV0dG9uVGV4dCIsImhhbmRsZVBob3RvIiwicGhvdG8iLCJfYSIsIm9uUGhvdG8iLCJlbWl0IiwiaGFuZGxlTm9EZXZpY2VFcnJvciIsIm5vRGV2aWNlRXJyb3IiLCJjcmVhdGVFdmVudCIsInByb3RvdHlwZSIsImhhbmRsZUJhY2tkcm9wQ2xpY2siLCJ0YXJnZXQiLCJlbCIsImhhbmRsZUNvbXBvbmVudENsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiaGFuZGxlQmFja2Ryb3BLZXlVcCIsImtleSIsInJlbmRlciIsImgiLCJjbGFzcyIsIm9uQ2xpY2siLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsImdldEVsZW1lbnQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==